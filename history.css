/* ========================================
   HISTORY PAGE - Old Newspaper Theme
   Color Palette:
   - Base: #cbae88
   - Darkest: #b79d7a
   - Lightest: #d5bea0
======================================== */

@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=EB+Garamond:wght@400;500;600&family=UnifrakturMaguntia&display=swap');

:root {
  --paper-base: #cbae88;
  --paper-dark: #b79d7a;
  --paper-light: #d5bea0;
  --paper-cream: #e8dcc8;
  --ink-dark: #2c2416;
  --ink-medium: #4a3f2f;
  --ink-light: #6b5d4d;
  --accent-red: #8b2500;
  --accent-gold: #8b6914;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'EB Garamond', 'Georgia', 'Times New Roman', serif;
  background:
    /* Subtle paper grain texture */
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E"),
    linear-gradient(180deg,
      var(--paper-light) 0%,
      var(--paper-base) 30%,
      var(--paper-dark) 100%);
  background-blend-mode: overlay, normal;
  background-attachment: fixed;
  color: var(--ink-dark);
  min-height: 100vh;
  padding: 20px;
  position: relative;
}

/* Torn paper edges on left and right */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  background:
    /* Left torn edge */
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 100' preserveAspectRatio='none'%3E%3Cpath d='M20 0 L18 3 L20 6 L17 10 L20 14 L18 18 L20 22 L16 26 L20 30 L18 34 L20 38 L17 42 L20 46 L18 50 L20 54 L16 58 L20 62 L18 66 L20 70 L17 74 L20 78 L18 82 L20 86 L16 90 L20 94 L18 98 L20 100 L0 100 L0 0 Z' fill='%23b79d7a'/%3E%3C/svg%3E") left top repeat-y,
    /* Right torn edge */
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 100' preserveAspectRatio='none'%3E%3Cpath d='M0 0 L2 3 L0 6 L3 10 L0 14 L2 18 L0 22 L4 26 L0 30 L2 34 L0 38 L3 42 L0 46 L2 50 L0 54 L4 58 L0 62 L2 66 L0 70 L3 74 L0 78 L2 82 L0 86 L4 90 L0 94 L2 98 L0 100 L20 100 L20 0 Z' fill='%23b79d7a'/%3E%3C/svg%3E") right top repeat-y;
  background-size: 15px 100%, 15px 100%;
  z-index: 1;
}

/* Bottom torn edge */
body::after {
  content: '';
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 20px;
  pointer-events: none;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 20' preserveAspectRatio='none'%3E%3Cpath d='M0 0 L3 2 L6 0 L10 3 L14 0 L18 2 L22 0 L26 4 L30 0 L34 2 L38 0 L42 3 L46 0 L50 2 L54 0 L58 4 L62 0 L66 2 L70 0 L74 3 L78 0 L82 2 L86 0 L90 4 L94 0 L98 2 L100 0 L100 20 L0 20 Z' fill='%23b79d7a'/%3E%3C/svg%3E") bottom center repeat-x;
  background-size: 100px 20px;
  z-index: 1;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 25px;
  position: relative;
  z-index: 2;
}

/* Header - Newspaper Masthead Style */
.header {
  text-align: center;
  margin-bottom: 30px;
  padding: 25px 0;
  border-top: 3px solid var(--ink-dark);
  border-bottom: 3px solid var(--ink-dark);
  position: relative;
}

.header::before,
.header::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  height: 1px;
  background: var(--ink-dark);
}

.header::before {
  top: 5px;
}

.header::after {
  bottom: 5px;
}

.header h1 {
  font-family: 'UnifrakturMaguntia', 'Playfair Display', serif;
  font-size: 52px;
  font-weight: 400;
  margin-bottom: 8px;
  color: var(--ink-dark);
  text-shadow: 2px 2px 0 rgba(203, 174, 136, 0.5);
  letter-spacing: 3px;
}

.subtitle {
  font-size: 14px;
  color: var(--ink-light);
  font-style: italic;
  letter-spacing: 2px;
}

/* Controls */
.controls {
  display: flex;
  gap: 12px;
  margin-bottom: 20px;
  flex-wrap: wrap;
  align-items: center;
  padding: 15px;
  background: var(--paper-light);
  border: 2px solid var(--ink-medium);
  box-shadow: 3px 3px 0 var(--ink-light);
}

.action-button {
  padding: 10px 20px;
  border: 2px solid var(--ink-dark);
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-family: 'Playfair Display', serif;
  box-shadow: 3px 3px 0 var(--ink-dark);
}

.action-button:hover {
  transform: translate(-1px, -1px);
  box-shadow: 4px 4px 0 var(--ink-dark);
}

.action-button:active {
  transform: translate(1px, 1px);
  box-shadow: 2px 2px 0 var(--ink-dark);
}

.clear-btn {
  background: var(--paper-cream);
  color: var(--accent-red);
  border-color: var(--accent-red);
  box-shadow: 3px 3px 0 var(--accent-red);
}

.clear-btn:hover {
  background: var(--paper-light);
  box-shadow: 4px 4px 0 var(--accent-red);
}

.back-btn {
  background: var(--paper-dark);
  color: var(--ink-dark);
}

.back-btn:hover {
  background: var(--paper-base);
}

.filter-controls {
  display: flex;
  gap: 10px;
  margin-left: auto;
}

.filter-select {
  padding: 8px 12px;
  border: 2px solid var(--ink-medium);
  background: var(--paper-cream);
  color: var(--ink-dark);
  font-size: 13px;
  cursor: pointer;
  font-family: 'EB Garamond', serif;
  box-shadow: 2px 2px 0 var(--ink-light);
}

.filter-select:focus {
  outline: none;
  border-color: var(--ink-dark);
}

.filter-select option {
  background: var(--paper-cream);
  color: var(--ink-dark);
}

/* Stats - Newspaper Column Style */
.stats {
  display: flex;
  gap: 30px;
  margin-bottom: 20px;
  padding: 15px 20px;
  background: var(--paper-cream);
  border: 2px solid var(--ink-medium);
  box-shadow: 3px 3px 0 var(--ink-light);
  position: relative;
}

/* Decorative divider in stats */
.stats::after {
  content: '✦';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  font-size: 12px;
  color: var(--ink-light);
}

.stat-item {
  display: flex;
  gap: 8px;
}

.stat-label {
  color: var(--ink-light);
  font-size: 14px;
  font-style: italic;
}

.stat-value {
  color: var(--ink-dark);
  font-weight: 700;
  font-size: 14px;
  font-family: 'Playfair Display', serif;
}

/* History List */
.history-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.history-item {
  background: var(--paper-light);
  border: 2px solid var(--ink-medium);
  padding: 20px;
  transition: all 0.2s ease;
  cursor: pointer;
  box-shadow: 3px 3px 0 var(--ink-light);
  position: relative;
}

/* Crinkle top edge effect */
.history-item::before {
  content: '';
  position: absolute;
  top: -4px;
  left: 20px;
  right: 20px;
  height: 4px;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 4'%3E%3Cpath d='M0 4 Q5 0 10 4 Q15 8 20 4 Q25 0 30 4 Q35 8 40 4 Q45 0 50 4 Q55 8 60 4 Q65 0 70 4 Q75 8 80 4 Q85 0 90 4 Q95 8 100 4' fill='none' stroke='%234a3f2f' stroke-width='0.5'/%3E%3C/svg%3E") repeat-x;
}

.history-item:hover {
  background: var(--paper-cream);
  transform: translate(-2px, -2px);
  box-shadow: 5px 5px 0 var(--ink-light);
}

.history-item-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 12px;
  padding-bottom: 12px;
  border-bottom: 1px dashed var(--ink-medium);
}

.history-item-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--ink-dark);
  margin-bottom: 4px;
  flex: 1;
  font-family: 'Playfair Display', serif;
}

.history-item-url {
  font-size: 12px;
  color: var(--ink-light);
  word-break: break-all;
  margin-bottom: 8px;
  font-style: italic;
}

.history-item-meta {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 12px;
}

.meta-badge {
  display: inline-flex;
  align-items: center;
  padding: 4px 12px;
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-family: 'Playfair Display', serif;
  border: 2px solid;
}

.tier-badge {
  background: var(--paper-cream);
  border-color: var(--ink-medium);
  color: var(--ink-dark);
}

.severity-badge.none {
  background: var(--paper-cream);
  border-color: #2e5a2e;
  color: #2e5a2e;
}

.severity-badge.low {
  background: var(--paper-cream);
  border-color: var(--accent-gold);
  color: var(--accent-gold);
}

.severity-badge.medium {
  background: var(--paper-cream);
  border-color: #a65200;
  color: #a65200;
}

.severity-badge.high,
.severity-badge.extreme {
  background: var(--accent-red);
  border-color: #5a0000;
  color: var(--paper-light);
}

.score-display {
  font-size: 22px;
  font-weight: 900;
  margin-left: auto;
  font-family: 'Playfair Display', serif;
  padding: 5px 15px;
  border: 2px solid;
}

.score-display.low {
  color: #2e5a2e;
  border-color: #2e5a2e;
  background: var(--paper-cream);
}

.score-display.medium {
  color: var(--accent-gold);
  border-color: var(--accent-gold);
  background: var(--paper-cream);
}

.score-display.high {
  color: #a65200;
  border-color: #a65200;
  background: var(--paper-cream);
}

.score-display.very-high {
  color: var(--paper-light);
  border-color: #5a0000;
  background: var(--accent-red);
}

.history-item-timestamp {
  font-size: 12px;
  color: var(--ink-light);
  margin-top: 8px;
  font-style: italic;
}

.history-item-actions {
  display: flex;
  gap: 8px;
  margin-top: 12px;
}

.item-action-btn {
  padding: 6px 14px;
  border: 2px solid var(--ink-medium);
  background: var(--paper-cream);
  color: var(--ink-dark);
  font-size: 11px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: 'Playfair Display', serif;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: 2px 2px 0 var(--ink-light);
}

.item-action-btn:hover {
  background: var(--paper-light);
  transform: translate(-1px, -1px);
  box-shadow: 3px 3px 0 var(--ink-light);
}

/* Loading and Empty States */
.loading-message,
.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: var(--ink-light);
  font-size: 16px;
  font-style: italic;
  background: var(--paper-cream);
  border: 2px dashed var(--ink-medium);
}

.empty-state.hidden {
  display: none;
}

.empty-hint {
  font-size: 14px;
  color: var(--ink-light);
  margin-top: 10px;
}

/* Expandable Details */
.history-item-details {
  margin-top: 15px;
  padding-top: 15px;
  border-top: 2px solid var(--ink-medium);
  display: none;
}

.history-item.expanded .history-item-details {
  display: block;
}

.details-section {
  margin-bottom: 15px;
  padding: 12px;
  background: var(--paper-cream);
  border-left: 3px solid var(--ink-dark);
}

.details-section h4 {
  font-size: 14px;
  font-weight: 700;
  color: var(--ink-dark);
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-family: 'Playfair Display', serif;
  border-bottom: 1px solid var(--ink-medium);
  padding-bottom: 5px;
}

.details-section p {
  font-size: 14px;
  color: var(--ink-dark);
  line-height: 1.7;
}

.details-section ul {
  list-style: none;
  padding-left: 0;
}

.details-section li {
  font-size: 13px;
  color: var(--ink-medium);
  padding: 4px 0;
  padding-left: 20px;
  position: relative;
}

.details-section li:before {
  content: "❧";
  position: absolute;
  left: 0;
  color: var(--accent-red);
  font-size: 10px;
}

/* Newspaper decorative elements */
.history-list::before {
  content: '— ARCHIVED ANALYSES —';
  display: block;
  text-align: center;
  font-family: 'Playfair Display', serif;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 4px;
  color: var(--ink-light);
  margin-bottom: 20px;
  text-transform: uppercase;
}